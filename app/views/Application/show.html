#{extends 'main.html' /}
#{set title:recipe.title /}

<ul id="pagination">
    #{if recipe.previous()}
        <li id="previous">
            <a href="@{Application.show(recipe.previous().id)}">
                ${recipe.previous().title}
            </a>
        </li>
    #{/if}
    #{if recipe.next()}
        <li id="next">
            <a href="@{Application.show(recipe.next().id)}">
                ${recipe.next().title}
            </a>
        </li>
    #{/if}
</ul>

#{if flash.success}
    <p class="success">${flash.success}</p>
#{/if}

#{display recipe:recipe, as:'full' /}

<h3>Post a comment</h3>
 
#{form @Application.postComment(recipe.id)}

    #{ifErrors}
        <p class="error">
            Comment field is required!
        </p>
    #{/ifErrors}
    
    <p>
        <label for="login">Your login: </label>
        <input type="text" name="login" id="login" />
    </p>
    <p>
        <label for="login">Rating: </label>
        <input type="range" name="rating" id="rating" min="0" max="5" />
    </p>
    <p>
        <label for="content">Your message: </label>
        <textarea name="content" id="content"></textarea>
    </p>
    <p>
        <input type="submit" value="Submit your comment" />
    </p>
#{/form}